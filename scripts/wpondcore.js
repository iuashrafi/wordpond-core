jQuery(document).ready(function(a){var t;t=a(".overlay"),a(".post-form-box").click(function(){t.fadeIn(500)}),t.not(".post-form-box").click(function(){t.fadeOut(500)});var o=a("input.med");o.one("keyup",function(){a.getJSON(ajaxob.ajax_url,{action:"mention_users"},function(a){o.mention({delimiter:"@",users:a})})}),a(".reportbox").click(function(){var t=a(this).attr("data-post_id");a("#reportReason").val(""),a(".reportModal").modal("show"),a("#reportSubmit").attr("data-post_id",t)}),a("#reportSubmit").click(function(){var t=a(this).attr("data-post_id"),o=a("#reportReason").val();a.post(ajaxob.ajax_url,{action:"submit_report",post_id:t,reason:o},function(t){a(".reportModal").modal("hide"),a("#reportReason").val("")})});var e;(e=a("body")).on("click",".add_friend",function(){var t;t=a(this).attr("data-user_id"),a.post(ajaxob.ajax_url,{action:"add_relation_request",relation:"friend",friend:t},function(o){a("#change_to_cancel"+t).html(o)})}),e.on("click",".cancel_friend",function(){var t;t=a(this).attr("data-user_id"),a.post(ajaxob.ajax_url,{action:"cancel_request",relation:"friend",friend:t},function(o){a("#change_to_add"+t).html(o)})}),e.on("click",".accept_friend",function(){var t;t=a(this).attr("data-user_id"),a.post(ajaxob.ajax_url,{action:"accept_request",relation:"friend",friend:t},function(o){a("#change_to_accept_reject"+t).html(o)})}),e.on("click",".deny_friend",function(){var t;t=a(this).attr("data-user_id"),a.post(ajaxob.ajax_url,{action:"deny_request",relation:"friend",friend:t},function(o){a("#change_to_accept_reject"+t).html(o)})}),e.on("click",".unfriend",function(){var t;t=a(this).attr("data-user_id"),a.post(ajaxob.ajax_url,{action:"unfriend_user",relation:"friend",friend:t},function(o){a("#change_to_add"+t).html(o)})});var n;(n=a("#save_postData")).on("click",function(){var t,o;if(t=a("#post_title").val(),o=a("#post_body").val(),""==t||""==o)a("#fillModal").modal("show");else{n.addClass("m-progress"),n.attr("disabled",!0);var e,r;(e=new FormData).append("action","save_postData"),e.append("post_title",t),e.append("post_body",o),a.ajax({url:ajaxob.ajax_url,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){"success"==(r=JSON.parse(t)).success?(a("#save_postModal").modal("show"),a("#post_title").val(""),a("#post_body").val("")):"undefined"!=r.error&&alert(r.error),n.removeClass("m-progress"),n.attr("disabled",!1),n.text("Post")}})}})});